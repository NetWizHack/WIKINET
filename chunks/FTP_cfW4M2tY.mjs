const id = "m8/FTP.md";
						const collection = "docs";
						const slug = "m8/ftp";
						const body = "\n# Guía de Instalación y Configuración de vsftpd en Debian/Ubuntu\n\n## Requisitos Previos\n- Sistema operativo Debian o Ubuntu.\n- Acceso a un usuario con privilegios sudo.\n- Conexión a Internet.\n\n## Paso 1: Actualizar el sistema\nAntes de instalar vsftpd, es recomendable actualizar los paquetes del sistema:\n\n```bash\nsudo apt update && sudo apt upgrade -y\n```\n\n---\n\n## Paso 2: Instalar vsftpd\nInstale el paquete **vsftpd** desde los repositorios oficiales:\n\n```bash\nsudo apt install vsftpd -y\n```\n\nUna vez instalado, el servicio vsftpd debería iniciarse automáticamente. Puede verificarlo con el siguiente comando:\n\n```bash\nsudo systemctl status vsftpd\n```\n\n---\n\n## Paso 3: Configurar vsftpd\nEl archivo principal de configuración se encuentra en `/etc/vsftpd.conf`. Realice una copia de seguridad antes de hacer cambios:\n\n```bash\nsudo cp /etc/vsftpd.conf /etc/vsftpd.conf.bak\n```\n\nEdite el archivo de configuración:\n\n```bash\nsudo nano /etc/vsftpd.conf\n```\n\n### Configuraciones Básicas\nAsegúrese de que las siguientes líneas estén configuradas correctamente:\n\n```conf\n# Permitir acceso anónimo deshabilitado\nanonymous_enable=NO\n\n# Habilitar inicio de sesión local\nlocal_enable=YES\n\n# Permitir subir y modificar archivos\nwrite_enable=YES\n\n# Usar chroot para restringir usuarios a sus directorios\nchroot_local_user=YES\n\n# Configurar puerto pasivo para FTP\npasv_min_port=40000\npasv_max_port=50000\n\n# Habilitar soporte SSL (opcional)\nssl_enable=YES\n```\n\nGuarde y cierre el archivo.\n\n---\n\n## Paso 4: Configurar Usuarios Virtuales sin BBDD\n\n### Crear Archivo con Credenciales de Usuarios\n1. Cree un archivo para almacenar las credenciales de los usuarios virtuales. Cada línea impar será el nombre de usuario, y la línea par correspondiente será la contraseña:\n\n   ```bash\n   sudo nano /etc/vsftpd/virt_users\n   ```\n\n   Ejemplo de contenido:\n   ```\n   usuario1\n   contraseña1\n   usuario2\n   contraseña2\n   ```\n\n2. Cree una base de datos a partir de este archivo utilizando el comando `db_load`:\n\n   ```bash\n   sudo apt install db-util -y\n   sudo db_load -T -t hash -f /etc/vsftpd/virt_users /etc/vsftpd/virt_users.db\n   ```\n\n3. Cambie los permisos del archivo de credenciales:\n\n   ```bash\n   sudo chmod 600 /etc/vsftpd/virt_users.db\n   ```\n\n### Configurar PAM para Usuarios Virtuales\n1. Cree un archivo PAM específico para vsftpd:\n\n   ```bash\n   sudo nano /etc/pam.d/vsftpd\n   ```\n\n   Contenido del archivo:\n   ```\n   auth    required pam_userdb.so db=/etc/vsftpd/virt_users\n   account required pam_userdb.so db=/etc/vsftpd/virt_users\n   ```\n\n2. Asegúrese de que el módulo `pam_userdb` esté instalado:\n\n   ```bash\n   sudo apt install libpam-modules -y\n   ```\n\n### Configuración Adicional de vsftpd\n1. Edite `/etc/vsftpd.conf` para habilitar usuarios virtuales:\n\n   ```bash\n   sudo nano /etc/vsftpd.conf\n   ```\n\n   Añada o modifique las siguientes líneas:\n\n   ```conf\n   guest_enable=YES\n   guest_username=ftp\n   pam_service_name=vsftpd\n   user_sub_token=$USER\n   local_root=/home/ftp/$USER\n   ```\n\n2. Cree la carpeta base para usuarios virtuales:\n\n   ```bash\n   sudo mkdir -p /home/ftp\n   sudo chmod 755 /home/ftp\n   ```\n\n   Para cada usuario virtual, cree un directorio y configure permisos:\n\n   ```bash\n   sudo mkdir -p /home/ftp/usuario1\n   sudo chown ftp:ftp /home/ftp/usuario1\n   sudo chmod 750 /home/ftp/usuario1\n   ```\n\n---\n\n## Paso 5: Configurar SSL/TLS (Opcional)\nPara un FTP más seguro, configure SSL/TLS:\n\n1. Cree un certificado SSL:\n\n   ```bash\n   sudo openssl req -x509 -nodes -days 365 -newkey rsa:2048 \\\n   -keyout /etc/ssl/private/vsftpd.pem \\\n   -out /etc/ssl/private/vsftpd.pem\n   ```\n\n2. Asegúrese de que las rutas del certificado estén configuradas en `/etc/vsftpd.conf`:\n\n   ```conf\n   rsa_cert_file=/etc/ssl/private/vsftpd.pem\n   rsa_private_key_file=/etc/ssl/private/vsftpd.pem\n   ```\n\n---\n\n## Paso 6: Crear usuarios y asignar permisos\nCree un usuario local para el FTP:\n\n```bash\nsudo adduser nombre_usuario\n```\n\nCambie los permisos del directorio del usuario:\n\n```bash\nsudo chmod a-w /home/nombre_usuario\nsudo mkdir /home/nombre_usuario/ftp\nsudo chmod 750 /home/nombre_usuario/ftp\n```\n\nOpcionalmente, puede habilitar accesos específicos configurando un archivo de lista de usuarios en `/etc/vsftpd.userlist`.\n\n---\n\n## Paso 7: Reiniciar el servicio vsftpd\nDespués de realizar cambios en la configuración, reinicie el servicio:\n\n```bash\nsudo systemctl restart vsftpd\n```\n\n---\n\n## Paso 8: Probar la configuración\n1. Utilice un cliente FTP (como FileZilla o `ftp`) para conectarse al servidor.\n2. Ingrese la dirección IP del servidor, el nombre de usuario y la contraseña para autenticar.\n3. Verifique que pueda acceder al directorio y realizar operaciones básicas según los permisos configurados.\n\n---\n\n## Paso 9: Habilitar vsftpd en el arranque\nPara asegurarse de que el servicio se inicie automáticamente al reiniciar, habilítelo:\n\n```bash\nsudo systemctl enable vsftpd\n```\n\n---\n\n## Solución de Problemas\n- **Logs**: Revise los registros en caso de problemas:\n  \n  ```bash\n  sudo tail -f /var/log/vsftpd.log\n  ```\n\n- **Firewall**: Asegúrese de que los puertos del FTP (21 y el rango pasivo) estén abiertos:\n\n  ```bash\n  sudo ufw allow 21\n  sudo ufw allow 40000:50000/tcp\n  ```\n\n---\n\n¡Listo! Su servidor FTP con vsftpd debería estar configurado y listo para usarse.\n";
						const data = {title:"FTP Linux",description:"FTP Linux",editUrl:true,head:[],template:"doc",sidebar:{hidden:false,attrs:{}},pagefind:true,draft:false};
						const _internal = {
							type: 'content',
							filePath: "/root/M7_doc/src/content/docs/m8/FTP.md",
							rawData: undefined,
						};

export { _internal, body, collection, data, id, slug };
