const id = "m8/DNS.md";
						const collection = "docs";
						const slug = "m8/dns";
						const body = "\n## Paso 1: Actualizar el sistema\nPrimero, asegúrate de que tu sistema esté actualizado.\n```sh title=\"Instalando dependencias…\"\nsudo apt update && sudo apt upgrade -y\n```\n\n## Paso 2: Instalar Bind9\nInstala el servidor DNS Bind9 con el siguiente comando:\n```sh title=\"Instalando Bind9 y sus dependencias\"\nsudo apt install bind9 bind9utils bind9-doc -y\n```\n\n## Paso 3: Configuración de Bind9\nEditar el archivo de configuración principal\nEl archivo de configuración principal de Bind9 es /etc/bind/named.conf.options. Debemos asegurarnos de que Bind9 escuche en la interfaz correcta y configurar el reenvío a servidores DNS externos para las consultas que tu servidor no pueda resolver.\n\nAbre el archivo para editarlo:\n```sh frame=\"none\"\nsudo nano /etc/bind/named.conf.options\n```\n\nAñade o modifica las siguientes opciones:\n\n```bash title=\"Modificando el archivo\"\noptions {\n    directory \"/var/cache/bind\";\n\n    // Descomenta esta opción para escuchar en todas las interfaces\n    // listen-on { any; };\n\n    // Para especificar una interfaz en particular, usa lo siguiente:\n    listen-on { 127.0.0.1; };\n\n    // Permitir consultas solo desde tu red local\n    allow-query { 127.0.0.1; 192.168.1.0/24; };\n\n    // Si necesitas reenviar consultas a otros DNS (resolución externa)\n    forwarders {\n        8.8.8.8;  // Google DNS\n        8.8.4.4;  // Google DNS\n    };\n\n    dnssec-validation auto;\n\n    auth-nxdomain no;    # Descomentar si no se desea responder como autoritativo\n    listen-on-v6 { any; };\n};\n```\nGuarda y cierra el archivo (`Ctrl + O`, `Enter`, `Ctrl + X`).\n\n## Paso 4: Configurar un dominio (Zona DNS directa)\nAhora configuraremos un dominio local. Puedes usar cualquier nombre de dominio falso, como `midominio.local`.\n1. Crea una nueva zona en `/etc/bind/named.conf.local`:\n```sh frame=\"none\"\nsudo nano /etc/bind/named.conf.local\n```\nAñade las siguientes líneas:\n```sh title=\"Modificando el archivo\"\nzone \"midominio.local\" {\n    type master;\n    file \"/etc/bind/db.midominio.local\";\n};\n```\nGuarda y cierra el archivo (`Ctrl + O`, `Enter`, `Ctrl + X`).\n\n2. Crea el archivo de zona `db.midominio.local` basado en la plantilla db.local que ya existe en el sistema:\n```sh frame=\"none\"\nsudo cp /etc/bind/db.local /etc/bind/db.midominio.local\nsudo nano /etc/bind/db.midominio.local\n```\nEdita el archivo con los siguientes valores (esto es solo un ejemplo):\n```sh title=\"db.midominio.local\"\n$TTL    604800\n@       IN      SOA     ns.midominio.local. admin.midominio.local. (\n                              2         ; Serial\n                         604800         ; Refresh\n                          86400         ; Retry\n                        2419200         ; Expire\n                         604800 )       ; Negative Cache TTL\n;\n@       IN      NS      ns.midominio.local.\n@       IN      A       192.168.1.10    ; Dirección IP de tu servidor DNS\nns      IN      A       192.168.1.10    ; Dirección IP del servidor\nwww     IN      A       192.168.1.20    ; Ejemplo de otra máquina en la red\n```\nGuarda y cierra el archivo.\n:::note\nTodo lo que va despues de `;` es un comentario o un enter ya que el archivo no puede tener lineas vacias.\n:::\n## Paso 5: Verificar la configuración\nAntes de reiniciar Bind9, es importante verificar que la configuración esté correcta. Usa el siguiente comando para comprobar:\n\n```sh title=\"comprobación de el archivo named.conf.local\"\nsudo named-checkconf\n```\nPara verificar el archivo de zona con el nombre que le has atribuido:\n```sh title=\"comprobación de el archivo db.midominio.local\"\nsudo named-checkzone midominio.local /etc/bind/db.midominio.local\n```\n## Paso 6: Reiniciar Bind9\n```sh\nsudo systemctl restart bind9\n```\n:::tip[Recomendación]\nAntes de reiniciar de golpe es preferible primero verificar el estado:\n```sh frame=\"none\"\nsudo systemctl status bind9\n```\nUna vez sabemos que esta correcto lo podemos parar con:\n```sh frame=\"none\"\nsudo systemctl stop bind9\n```\nuna vez detenido el servicio completamente comrpobado con un status a poder ser, procedemos a arrnacar y revisar el estado:\n```sh frame=\"none\"\nsudo systemctl start bind9\nsudo systemctl status bind9\n```\n";
						const data = {title:"DNS Linux",description:"DNS Linux",editUrl:true,head:[],template:"doc",sidebar:{hidden:false,attrs:{}},pagefind:true,draft:false};
						const _internal = {
							type: 'content',
							filePath: "/root/M7_doc/src/content/docs/m8/DNS.md",
							rawData: undefined,
						};

export { _internal, body, collection, data, id, slug };
